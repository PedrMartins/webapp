}
pipaes <- match(pipae, sensores)
for (pipae in pipaes){
site <-  source[pipae]
site <- read.csv(site [1], dec= ",")
colnames (site)[c(6,8,9,14,15)] <- c("CO2_ppm", "UV_Intensity",
"UV_Index",
"GNSS_Time",
"GNSS_Date")
if (names(source[pipae]) %in%
c(paste("pipae", 3, sep="")) == # saber sensores de cada parcela
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par2", length(site$CO2_ppm))
} else if (names(source[pipae]) %in%
c(paste("pipae", 7,sep="")) ==
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par1", length(site$CO2_ppm))
} else {
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par3", length(site$CO2_ppm))
}
pipae_all <- rbind(pipae_all, site)
}
pipae_all$Date = dmy (pipae_all$Date)
pipae_all$Time = hms (pipae_all$Time)
pipae_all= pipae_all|>
mutate(H=hour(pipae_all$Time),
D=day(pipae_all$Date),
M= month(pipae_all$Date),
Y= year(pipae_all$Date),
m=minute(pipae_all$Time))
pipae_all
}
import_pipae ("pipae1")
pipae_all
import_pipae ("pipae7")
source[pipae]
import_pipae("pipae7")
head (import_pipae("pipae7"))
import_pipae <-  function(pipae = NULL){
pipae_all = data.frame()
source <- c ("pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
,"pipae3"="https://docs.google.com/spreadsheets/d/e/2PACX-1vSgEviRT5URoJqohwPc4m-HuNkwkqy9TVDOVnDsu7x0hyNYJvLPlc_B9y3TrEqNf1fhe6fPensFXlOH/pub?output=csv"
,"pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv"
,"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv"
)
#sensores <- paste("pipae",seq(1, length(source)), sep="")
sensores <- paste("pipae", c(1:3,7), sep="")
if (is.null(pipae)==TRUE) {stop ("inclua sensores")}
if (length(setdiff(pipae,sensores))!= 0) {
stop("há sensores no com essa tag ou há erros na tag",
call. = FALSE)
}
pipaes <- match(pipae, sensores)
for (pipae in pipaes){
site <-  source[pipae]
site <- read.csv(site [1], dec= ",")
colnames (site)[c(6,8,9,14,15)] <- c("CO2_ppm", "UV_Intensity",
"UV_Index",
"GNSS_Time",
"GNSS_Date")
if (names(source[pipae]) %in%
c(paste("pipae", 3, sep="")) == # saber sensores de cada parcela
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par2", length(site$CO2_ppm))
} else if (names(source[pipae]) %in%
c(paste("pipae", 7,sep="")) ==
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par1", length(site$CO2_ppm))
} else {
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par3", length(site$CO2_ppm))
}
pipae_all <- rbind(pipae_all, site)
}
pipae_all$Date = dmy (pipae_all$Date)
pipae_all$Time = hms (pipae_all$Time)
pipae_all= pipae_all|>
mutate(H=hour(pipae_all$Time),
D=day(pipae_all$Date),
M= month(pipae_all$Date),
Y= year(pipae_all$Date),
m=minute(pipae_all$Time))
pipae_all
}
head (import_pipae("pipae7"))
head (import_pipae("pipae7"))
import_pipae <-  function(pipae = NULL){
pipae_all = data.frame()
source <- c ("pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
,"pipae3"="https://docs.google.com/spreadsheets/d/e/2PACX-1vSgEviRT5URoJqohwPc4m-HuNkwkqy9TVDOVnDsu7x0hyNYJvLPlc_B9y3TrEqNf1fhe6fPensFXlOH/pub?output=csv"
,"pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv"
,"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv"
)
#sensores <- paste("pipae",seq(1, length(source)), sep="")
sensores <- paste("pipae", c(1:3,7), sep="")
if (is.null(pipae)==TRUE) {stop ("inclua sensores")}
if (length(setdiff(pipae,sensores))!= 0) {
stop("há sensores no com essa tag ou há erros na tag",
call. = FALSE)
}
pipaes <- match(pipae, sensores)
for (pipae in pipaes){
site <-  source[pipae]
site <- read.csv(site [1], dec= ",")
colnames (site)[c(6,8,9,14,15)] <- c("CO2_ppm", "UV_Intensity",
"UV_Index",
"GNSS_Time",
"GNSS_Date")
if (names(source[pipae]) %in%
c(paste("pipae", 3, sep="")) == # saber sensores de cada parcela
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par2", length(site$CO2_ppm))
} else if (names(source[pipae]) %in%
c(paste("pipae", 7,sep="")) ==
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par1", length(site$CO2_ppm))
}
pipae_all <- rbind(pipae_all, site)
}
pipae_all$Date = dmy (pipae_all$Date)
pipae_all$Time = hms (pipae_all$Time)
pipae_all= pipae_all|>
mutate(H=hour(pipae_all$Time),
D=day(pipae_all$Date),
M= month(pipae_all$Date),
Y= year(pipae_all$Date),
m=minute(pipae_all$Time))
pipae_all
}
head (import_pipae("pipae7"))
source <- c ("pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
,"pipae3"="https://docs.google.com/spreadsheets/d/e/2PACX-1vSgEviRT5URoJqohwPc4m-HuNkwkqy9TVDOVnDsu7x0hyNYJvLPlc_B9y3TrEqNf1fhe6fPensFXlOH/pub?output=csv"
,"pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv"
,"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv"
)
sensores <- paste("pipae", c(1:3,7), sep="")
source
sensores
pipaes <- match(pipae, sensores)
pipae = "pipae7"
pipaes <- match(pipae, sensores)
pipaes
pipae
pipaes
source[pipae]
site <-  source[pipae]
site <- read.csv(site [1], dec= ",")
head (site)
colnames (site)
colnames (site)[CO2.Concentration]
colnames (site)["CO2.Concentration"]
colnames (site)[site$CO2.Concentration]
colnames (site$CO2.Concentration)
names (site$CO2.Concentration)
name (site$CO2.Concentration)
site$CO2.Concentration
colnames(site)[which(colnames(site) == "CO2.Concentration")]
colnames(site)[which(colnames(site) == "CO2.Concentration")] <- "CO2_ppm"
site
colnames(site)
which(colnames(site) == "CO2.Concentration")
colnames(site)[which(colnames(site) == "CO2.Concentration")]
colnames(site)
import_pipae <-  function(pipae = NULL){
pipae_all = data.frame()
source <- c ("pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
,"pipae3"="https://docs.google.com/spreadsheets/d/e/2PACX-1vSgEviRT5URoJqohwPc4m-HuNkwkqy9TVDOVnDsu7x0hyNYJvLPlc_B9y3TrEqNf1fhe6fPensFXlOH/pub?output=csv"
,"pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv"
,"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv"
)
#sensores <- paste("pipae",seq(1, length(source)), sep="")
sensores <- paste("pipae", c(1:3,7), sep="")
if (is.null(pipae)==TRUE) {stop ("inclua sensores")}
if (length(setdiff(pipae,sensores))!= 0) {
stop("há sensores no com essa tag ou há erros na tag",
call. = FALSE)
}
pipae = "pipae7"
pipaes <- match(pipae, sensores)
for (pipae in pipaes){
site <-  source[pipae]
site <- read.csv(site [1], dec= ",")
colnames(site)[which(colnames(site) == "CO2.Concentration")] <- "CO2_ppm"
if (names(source[pipae]) %in%
c(paste("pipae", 3, sep="")) == # saber sensores de cada parcela
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par2", length(site$CO2_ppm))
} else if (names(source[pipae]) %in%
c(paste("pipae", 7,sep="")) ==
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par1", length(site$CO2_ppm))
}
pipae_all <- rbind(pipae_all, site)
}
pipae_all$Date = dmy (pipae_all$Date)
pipae_all$Time = hms (pipae_all$Time)
pipae_all= pipae_all|>
mutate(H=hour(pipae_all$Time),
D=day(pipae_all$Date),
M= month(pipae_all$Date),
Y= year(pipae_all$Date),
m=minute(pipae_all$Time))
pipae_all
}
head (import_pipae("pipae7"))
pipae = "pipae7"
site
source[pipae]
names(source[pipae])
names(source[pipae]) %in%
c(paste("pipae", 3, sep="")) == # saber sensores de cada parcela
TRUE
names(source[pipae]) %in%
c(paste("pipae", 7,sep="")) ==
TRUE
names(source[pipae]
names(source[pipae])
names(source[pipae])
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$tag
site$parcela = rep ("par1", length(site$CO2_ppm))
site
site$parcela
pipae_all <- rbind(pipae_all, site)
pipae_all = data.frame()
pipae_all <- rbind(pipae_all, site)
pipae_all
pipae_all$Date = dmy (pipae_all$Date)
pipae_all$Time = hms (pipae_all$Time)
pipae_all= pipae_all|>
mutate(H=hour(pipae_all$Time),
D=day(pipae_all$Date),
M= month(pipae_all$Date),
Y= year(pipae_all$Date),
m=minute(pipae_all$Time))
pipae_all
import_pipae <-  function(pipae = NULL){
pipae_all = data.frame()
source <- c ("pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
,"pipae3"="https://docs.google.com/spreadsheets/d/e/2PACX-1vSgEviRT5URoJqohwPc4m-HuNkwkqy9TVDOVnDsu7x0hyNYJvLPlc_B9y3TrEqNf1fhe6fPensFXlOH/pub?output=csv"
,"pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv"
,"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv"
)
#sensores <- paste("pipae",seq(1, length(source)), sep="")
sensores <- paste("pipae", c(1:3,7), sep="")
if (is.null(pipae)==TRUE) {stop ("inclua sensores")}
if (length(setdiff(pipae,sensores))!= 0) {
stop("há sensores no com essa tag ou há erros na tag",
call. = FALSE)
}
pipaes <- match(pipae, sensores)
for (pipae in pipaes){
site <-  source[pipae]
site <- read.csv(site [1], dec= ",")
colnames(site)[which(colnames(site) == "CO2.Concentration")] <- "CO2_ppm"
if (names(source[pipae]) %in%
c(paste("pipae", 3, sep="")) == # saber sensores de cada parcela
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par2", length(site$CO2_ppm))
} else if (names(source[pipae]) %in%
c(paste("pipae", 7,sep="")) ==
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par1", length(site$CO2_ppm))
}
pipae_all <- rbind(pipae_all, site)
}
pipae_all$Date = dmy (pipae_all$Date)
pipae_all$Time = hms (pipae_all$Time)
pipae_all= pipae_all|>
mutate(H=hour(pipae_all$Time),
D=day(pipae_all$Date),
M= month(pipae_all$Date),
Y= year(pipae_all$Date),
m=minute(pipae_all$Time))
pipae_all
}
head (import_pipae("pipae7"))
head (import_pipae(pipae="pipae7"))
runApp()
head (pipae_all)
pipae_all=import_pipae(c("pipae7","pipae3"))
pipae_all
seq_along(pipaes)
for (pipae in seq_along(pipaes)){
site <-  source[pipae]
site <- read.csv(site [1], dec= ",")
colnames(site)[which(colnames(site) == "CO2.Concentration")] <- "CO2_ppm"
if (names(source[pipae]) %in%
c(paste("pipae", 3, sep="")) == # saber sensores de cada parcela
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par2", length(site$CO2_ppm))
} else if (names(source[pipae]) %in%
c(paste("pipae", 7,sep="")) ==
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par1", length(site$CO2_ppm))
}
pipae_all <- rbind(pipae_all, site)
}
runApp()
pipae_all=import_pipae(c("pipae7",
"pipae3"))
pipae_all
pipae = "pipae7"
pipae
pipae_all = data.frame()
source <- c ("pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
,"pipae3"="https://docs.google.com/spreadsheets/d/e/2PACX-1vSgEviRT5URoJqohwPc4m-HuNkwkqy9TVDOVnDsu7x0hyNYJvLPlc_B9y3TrEqNf1fhe6fPensFXlOH/pub?output=csv"
,"pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv"
,"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv"
)
#sensores <- paste("pipae",seq(1, length(source)), sep="")
sensores <- paste("pipae", c(1:3,7), sep="")
if (is.null(pipae)==TRUE) {stop ("inclua sensores")}
pipaes <- match(pipae, sensores)
pipaes
pipae = c("pipae7","pipae3")
pipae_all = data.frame()
source <- c ("pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
,"pipae3"="https://docs.google.com/spreadsheets/d/e/2PACX-1vSgEviRT5URoJqohwPc4m-HuNkwkqy9TVDOVnDsu7x0hyNYJvLPlc_B9y3TrEqNf1fhe6fPensFXlOH/pub?output=csv"
,"pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv"
,"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv"
)
#sensores <- paste("pipae",seq(1, length(source)), sep="")
sensores <- paste("pipae", c(1:3,7), sep="")
pipaes <- match(pipae, sensores)
pipaes
pipae
pipae = 4
site <-  source[pipae]
site
site <- read.csv(site [1], dec= ",")
site
site <-  source[pipae]
site
pipae
import_pipae <-  function(pipae = NULL){
pipae_all = data.frame()
source <- c ( "pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv",
"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv",
"pipae3"="https://docs.google.com/spreadsheets/d/e/2PACX-1vSgEviRT5URoJqohwPc4m-HuNkwkqy9TVDOVnDsu7x0hyNYJvLPlc_B9y3TrEqNf1fhe6fPensFXlOH/pub?output=csv",
"pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
)
#sensores <- paste("pipae",seq(1, length(source)), sep="")
sensores <- paste("pipae", c(1:3,7), sep="")
if (is.null(pipae)==TRUE) {stop ("inclua sensores")}
if (length(setdiff(pipae,sensores))!= 0) {
stop("há sensores no com essa tag ou há erros na tag",
call. = FALSE)
}
pipaes <- match(pipae, sensores)
for (pipae in pipaes){
site <-  source[pipae]
site <- read.csv(site [1], dec= ",")
colnames(site)[which(colnames(site) == "CO2.Concentration")] <- "CO2_ppm"
if (names(source[pipae]) %in%
c(paste("pipae", 3, sep="")) == # saber sensores de cada parcela
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par2", length(site$CO2_ppm))
} else if (names(source[pipae]) %in%
c(paste("pipae", 7,sep="")) ==
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par1", length(site$CO2_ppm))
}
pipae_all <- rbind(pipae_all, site)
}
pipae_all$Date = dmy (pipae_all$Date)
pipae_all$Time = hms (pipae_all$Time)
pipae_all= pipae_all|>
mutate(H=hour(pipae_all$Time),
D=day(pipae_all$Date),
M= month(pipae_all$Date),
Y= year(pipae_all$Date),
m=minute(pipae_all$Time))
pipae_all
}
pipae_all=import_pipae(c("pipae7",
"pipae3"))
pipae_all = data.frame()
source <- c ( "pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv",
"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv",
"pipae3"="https://docs.google.com/spreadsheets/d/e/2PACX-1vSgEviRT5URoJqohwPc4m-HuNkwkqy9TVDOVnDsu7x0hyNYJvLPlc_B9y3TrEqNf1fhe6fPensFXlOH/pub?output=csv",
"pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
)
#sensores <- paste("pipae",seq(1, length(source)), sep="")
sensores <- paste("pipae", c(1:3,7), sep="")
pipae = "pipae 7"
pipaes <- match(pipae, sensores)
pipaes
pipae = "pipae7"
pipaes <- match(pipae, sensores)
pipaes
pipae = 4
site <-  source[pipae]
site <- read.csv(site [1], dec= ",")
site <-  source[pipae]
site
site <- read.csv(site [1], dec= ",")
colnames(site)[which(colnames(site) == "CO2.Concentration")] <- "CO2_ppm"
head (site)
names(source[pipae]) %in%
c(paste("pipae", 3, sep="")) == # saber sensores de cada parcela
TRUE
names(source[pipae]) %in%
c(paste("pipae", 7,sep="")) ==
TRUE
pipae_all=import_pipae("pipae7")
import_pipae <-  function(pipae = NULL){
pipae_all = data.frame()
source <- c ( "pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv",
"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv",
"pipae3"="https://docs.google.com/spreadsheets/d/e/2PACX-1vSgEviRT5URoJqohwPc4m-HuNkwkqy9TVDOVnDsu7x0hyNYJvLPlc_B9y3TrEqNf1fhe6fPensFXlOH/pub?output=csv",
"pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
)
#sensores <- paste("pipae",seq(1, length(source)), sep="")
sensores <- paste("pipae", c(1:3,7), sep="")
if (is.null(pipae)==TRUE) {stop ("inclua sensores")}
if (length(setdiff(pipae,sensores))!= 0) {
stop("há sensores no com essa tag ou há erros na tag",
call. = FALSE)
}
pipaes <- match(pipae, sensores)
for (pipae in pipaes){
site <-  source[pipae]
site <- read.csv(site [1], dec= ",")
colnames(site)[which(colnames(site) == "CO2.Concentration")] <- "CO2_ppm"
head (site)
if (names(source[pipae]) %in%
c(paste("pipae", 3, sep="")) == # saber sensores de cada parcela
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par2", length(site$CO2_ppm))
} else if (names(source[pipae]) %in%
c(paste("pipae", 7,sep="")) ==
TRUE ){
site$tag = rep (names(source[pipae]),
length(site$CO2_ppm))
site$parcela = rep ("par1", length(site$CO2_ppm))
}
pipae_all <- rbind(pipae_all, site)
}
pipae_all$Date = dmy (pipae_all$Date)
pipae_all$Time = hms (pipae_all$Time)
pipae_all= pipae_all|>
mutate(H=hour(pipae_all$Time),
D=day(pipae_all$Date),
M= month(pipae_all$Date),
Y= year(pipae_all$Date),
m=minute(pipae_all$Time))
pipae_all
}
pipae_all=import_pipae("pipae7")
head (pipae_all)
tail (pipae_all)
pipae2="pipae2"
pipae1 = "pipae7"
pipae1 = "pipae7"
pipae2="pipae2"
site1 <- source[pipae1]
pipae1 = 4
pipae2=2
site1 <- source[pipae1]
site1 <- read.csv(site1 [1], dec= ",")
pipae1 = 4
source[pipae1]
source <- c ( "pipae1" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQmbdkhDjts41TXdkpoghubvLQ_5waEms3_RSUXBa_JBg1Z0o2AEnjRpWlTe6lv8go3nouimqUEeklI/pub?output=csv",
"pipae2" = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQZb9G0b6kE_I91HK7KOtIA7XJ_-OpW6I4J4ibTU4v1ljzAlgplWdzLRpsMiLqr6reiV6Jol3yrvOkE/pub?output=csv",
"pipae3"="https://docs.google.com/spreadsheets/d/e/2PACX-1vSgEviRT5URoJqohwPc4m-HuNkwkqy9TVDOVnDsu7x0hyNYJvLPlc_B9y3TrEqNf1fhe6fPensFXlOH/pub?output=csv",
"pipae7"="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdOc4PMg1xC0qpUceE6BZV8L1oLn8D5zf-dALqqWiEQZBFJH23dzPiqwn7NOlFowHEis1N4eb7JvFZ/pub?output=csv"
)
library(lubridate)
library (dplyr)
site1 <- source[pipae1]
site1 <- read.csv(site1 [1], dec= ",")
sate2 <- source[pipae2]
sate2 <- read.csv(sate2 [1], dec= ",")
head(site1)
head(sate2)
colnames (site1)
colnames (sate2)
